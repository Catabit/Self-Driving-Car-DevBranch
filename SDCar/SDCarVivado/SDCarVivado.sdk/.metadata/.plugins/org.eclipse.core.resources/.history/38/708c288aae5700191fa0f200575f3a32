#ifndef QUEUE_H
#define QUEUE_H

#include "PN532_rfid.h"

struct card {
	uint8_t type;
	uint32_t UID;
};

struct Node {
	struct card card;
	struct Node *next;
};

struct cardQueue {
	struct Node *head;
	struct Node *last;
};

void insertCard(struct cardQueue *q, struct card *card) {
	if (q->head == NULL) {
		q->head = card;
		q->last = card;
		return;
	}
	q->last->next = card;
	q->last = card;
}

struct card *getCard(struct cardQueue *q) {
	if (q->head == NULL)
		return NULL;

	return q->head;
}

struct card *popCard(struct cardQueue *q) {
	if (q->head == NULL)
		return NULL;

	struct card *result = q->head;
	q->head = q->head->next;
	return result;
}

void createCardQueue(struct cardQueue **q) {
	if (q != NULL)
		return NULL;

	*q = malloc(sizeof(struct cardQueue));
	(*q)->head = NULL;
	(*q)->last = NULL;
}

#endif
